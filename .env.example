# =====================================================
# Environment Configuration Template
# =====================================================
# SECURITY: Copy this file to .env and fill in your values
# NEVER commit .env files to version control!
# =====================================================

# Backend Server Configuration
NODE_ENV=development
BACKEND_PORT=3001

# Database Configuration
DB_TYPE=mysql # Options: mysql, mssql, sqlite
DB_HOST=localhost
DB_PORT=3306
DB_NAME=ai_use_case_repository
DB_USER=your_database_user
DB_PASSWORD=your_secure_database_password
DB_ENCRYPT=false
DB_TRUST_SERVER_CERTIFICATE=false

# =====================================================
# CRITICAL SECURITY: JWT Configuration
# =====================================================
# Generate a strong random secret using:
# openssl rand -base64 64
# NEVER use default or weak secrets in production!
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_GENERATED_WITH_OPENSSL
JWT_EXPIRY=24h

# =====================================================
# Microsoft Authentication (MSAL) Configuration
# =====================================================
# Backend variables for dynamic config API
MSAL_CLIENT_ID=your_msal_client_id
MSAL_AUTHORITY=https://login.microsoftonline.com/consumers
MSAL_REDIRECT_URI=http://localhost:3000
MSAL_POST_LOGOUT_REDIRECT_URI=http://localhost:3000
MSAL_SCOPES=User.Read
MSAL_API_SCOPES=User.Read

# =====================================================
# SECURITY: REACT_APP Variables Removed
# =====================================================
# Frontend environment variables (REACT_APP_*) are embedded in the
# JavaScript bundle and exposed to users. For security, we've moved
# all authentication configuration to dynamic backend configuration.
# 
# The app now fetches config from /api/config at runtime instead
# of using build-time environment variables.
# =====================================================

# Optional: Custom API URL (defaults to /api)
# Only safe for frontend exposure since it's just an endpoint
# REACT_APP_API_URL=/api

# =====================================================
# COMPASS OpenAI Configuration (Backend - Intelligent Chat)
# =====================================================
# COMPASS by Core42 - Azure OpenAI models hosted by COMPASS
# Endpoint format: https://api.core42.ai/openai/deployments/{deployment-id}/chat/completions
# Available models: gpt-5, gpt-5-mini, gpt-4.1, gpt-4o, o1, o3, etc.
COMPASS_OPENAI_API_KEY=your_compass_api_key_here
COMPASS_OPENAI_ENDPOINT=https://api.core42.ai/openai/deployments/gpt-5/chat/completions
COMPASS_OPENAI_DEPLOYMENT_NAME=gpt-5
COMPASS_OPENAI_API_VERSION=2024-12-01-preview

# Reasoning Effort Configuration (for reasoning models: GPT-5, o1, o3, etc.)
# Values: minimal, low, medium, high (default: minimal for fastest responses)
# Lower values = faster responses, fewer reasoning tokens, more output space
COMPASS_OPENAI_REASONING_EFFORT=minimal

# =====================================================
# Azure OpenAI Realtime (Voice Chat)
# =====================================================
AZURE_OPENAI_REALTIME_ENDPOINT=https://your-resource.cognitiveservices.azure.com
AZURE_OPENAI_REALTIME_DEPLOYMENT=gpt-4o-mini-realtime-preview
AZURE_OPENAI_REALTIME_API_VERSION=2024-10-01-preview
AZURE_OPENAI_REALTIME_KEY=your_realtime_api_key_here

# =====================================================
# Realtime Voice API Configuration (Flexible)
# =====================================================
# Primary configuration - supports both Core42 and Azure
# Set these to control which realtime provider is used:
REALTIME_ENDPOINT=wss://api.core42.ai/v1/realtime
REALTIME_API_KEY=your_realtime_api_key_here
REALTIME_MODEL=gpt-4o-realtime-preview-2024-12-17

# To use Azure instead of Core42:
# REALTIME_ENDPOINT=https://your-resource.cognitiveservices.azure.com
# REALTIME_API_KEY=your_azure_realtime_key
# REALTIME_MODEL=gpt-4o-mini-realtime-preview

# Legacy Core42 (fallback if REALTIME_* not set)
COMPASS_API_KEY=your_compass_api_key_here

# =====================================================
# Anthropic Claude Agent SDK Configuration
# =====================================================
# Claude Agent SDK provides advanced agent capabilities:
# - Built-in agent orchestration with automatic tool loops
# - Memory management for persistent knowledge
# - Subagent support for parallel task execution
# - Human-in-the-loop controls
#
# Claude can be used as an alternative to COMPASS OpenAI for text chat.
# Get your API key from: https://console.anthropic.com/
#
# Available endpoints:
#   POST /api/chat/intelligent-claude    - Use Claude Agent SDK directly
#   POST /api/chat/intelligent-with-provider - Select provider dynamically
#   GET  /api/chat/providers             - Check available providers
#
ANTHROPIC_API_KEY=your_anthropic_api_key_here
CLAUDE_MODEL=claude-sonnet-4-20250514

# Default AI provider: 'compass' or 'claude'
# If not set, defaults to 'compass'
DEFAULT_AI_PROVIDER=compass

# =====================================================
# Optional: Admin Access Override
# =====================================================
# Comma-separated list of email addresses with admin access
# This overrides Azure AD role assignments
# ADMIN_EMAILS=admin@company.com,backup@admin.com

# =====================================================
# Production Security Settings (Recommended)
# =====================================================
# ALLOWED_ORIGINS=http://localhost:3000,https://your-production-domain.com
# SESSION_SECRET=another_strong_random_secret_for_sessions
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100
# FORCE_HTTPS=true
# SECURE_COOKIES=true

# =====================================================
# Monitoring & Logging (Optional)
# =====================================================
# LOG_LEVEL=info
# APPINSIGHTS_INSTRUMENTATIONKEY=your_app_insights_key

# =====================================================
# IMPORTANT SECURITY REMINDERS:
# =====================================================
# 1. NEVER commit actual secrets to version control
# 2. Generate strong secrets: openssl rand -base64 64
# 3. Rotate secrets regularly (at least every 90 days)
# 4. Use different secrets for each environment
# 5. Consider using Azure Key Vault for production
# 6. Enable 2FA on all admin accounts
# 7. Review and audit access logs regularly
# =====================================================

# Example strong JWT secret (DO NOT USE THIS - GENERATE YOUR OWN):
# JWT_SECRET=vY84XSKmsIk/LysIne7gbiiHjBPFSq+l5fB8Re7ej3Dcgjqrewu/iD33Fa/im805gebtZgQEsHMq6x2ExVmkgA==